<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nigeria PAYE Calculator 2026</title>

<style>
  body{
    margin:0;
    padding:24px;
    font-family:Inter,system-ui,sans-serif;
    background:#0f172a;
    color:#e5e7eb;
  }
  .app{
    max-width:1000px;
    margin:auto;
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:24px;
  }
  .card{
    background:#111827;
    border-radius:18px;
    padding:24px;
  }
  h1{margin:0}
  h2{margin-top:24px;font-size:15px;color:#c7d2fe}
  label{font-size:12px;color:#9ca3af}
  input{
    width:100%;
    margin-top:6px;
    margin-bottom:14px;
    padding:12px 14px;
    border-radius:12px;
    border:1px solid #1f2937;
    background:#020617;
    color:#e5e7eb;
  }
  table{width:100%;border-collapse:collapse;margin-top:10px}
  tr+tr{border-top:1px dashed #1f2937}
  td{padding:10px 0}
  td:last-child{text-align:right}
</style>
</head>

<body>

<div class="app">

  <!-- INPUTS -->
  <div class="card">
    <h1>Nigeria PAYE</h1>
    <p style="font-size:13px;color:#9ca3af">Annual personal income tax calculator</p>

    <h2>Income</h2>
    <label>Annual Gross Income (₦)</label>
    <input id="gross" placeholder="Enter annual gross income">

    <h2>Relief</h2>
    <label>Annual Rent Paid (₦) — 20% capped at ₦500,000</label>
    <input id="rent" placeholder="Enter annual rent">
  </div>

  <!-- OUTPUT -->
  <div class="card">

    <h2>Deductions</h2>
    <table>
      <tr><td>Pension (8%)</td><td id="pension">0</td></tr>
      <tr><td>NHF (2.5%)</td><td id="nhf">0</td></tr>
      <tr><td>Rent relief</td><td id="rentRelief">0</td></tr>
      <tr><td><strong>Taxable income</strong></td><td id="taxable">0</td></tr>
    </table>

    <h2>Tax Breakdown</h2>
    <table>
      <tbody id="taxTable"></tbody>
    </table>

  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {

  const bands = [
    { label:'First ₦800,000', limit:800000, rate:0 },
    { label:'Next ₦2,200,000', limit:2200000, rate:0.15 },
    { label:'Next ₦9,000,000', limit:9000000, rate:0.18 },
    { label:'Next ₦13,000,000', limit:13000000, rate:0.21 },
    { label:'Next ₦25,000,000', limit:25000000, rate:0.23 },
    { label:'Above ₦50,000,000', limit:Infinity, rate:0.25 }
  ];

  const el = id => document.getElementById(id);
  const num = v => Number(String(v).replace(/,/g,'')) || 0;
  const fmt = n => n.toLocaleString('en-NG',{maximumFractionDigits:2});

  const gross = el('gross');
  const rent = el('rent');

  const pension = el('pension');
  const nhf = el('nhf');
  const rr = el('rentRelief');
  const taxable = el('taxable');
  const taxTable = el('taxTable');

  function calc(){
    const g = num(gross.value);
    const r = num(rent.value);

    // Reset when gross not entered
    if(!g){
      pension.textContent = '0';
      nhf.textContent = '0';
      rr.textContent = '0';
      taxable.textContent = '0';
      taxTable.innerHTML = '';
      return;
    }

    // Statutory deductions
    const pen = g * 0.08;
    const n = g * 0.025;

    // ✅ CORRECT RENT RELIEF LOGIC
    const relief = Math.min(r * 0.20, 500000);

    const tx = Math.max(0, g - (pen + n + relief));

    pension.textContent = fmt(pen);
    nhf.textContent = fmt(n);
    rr.textContent = fmt(relief);
    taxable.textContent = fmt(tx);

    // PAYE bands
    let remaining = tx;
    taxTable.innerHTML = '';

    bands.forEach(b => {
      if(remaining <= 0) return;
      const amount = Math.min(remaining, b.limit);
      const tax = amount * b.rate;
      remaining -= amount;
      taxTable.innerHTML +=
        `<tr><td>${b.label}</td><td>${fmt(tax)}</td></tr>`;
    });
  }

  document.querySelectorAll('input').forEach(i =>
    i.addEventListener('input', calc)
  );

});
</script>

</body>
</html>
